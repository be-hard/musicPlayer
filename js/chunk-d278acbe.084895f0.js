(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d278acbe"],{"1a9e":function(t,e,n){},"25ce":function(t,e,n){"use strict";var s=n("1a9e"),i=n.n(s);i.a},"29b8":function(t,e,n){},"64c1":function(t,e,n){},"8e0c":function(t,e,n){"use strict";var s=n("29b8"),i=n.n(s);i.a},"96c9":function(t,e,n){},b0c0:function(t,e,n){var s=n("83ab"),i=n("9bf2").f,a=Function.prototype,c=a.toString,r=/^\s*function ([^ (]*)/,o="name";s&&!(o in a)&&i(a,o,{configurable:!0,get:function(){try{return c.call(this).match(r)[1]}catch(t){return""}}})},c0d2:function(t,e,n){"use strict";var s=n("96c9"),i=n.n(s);i.a},d210:function(t,e,n){"use strict";var s=n("64c1"),i=n.n(s);i.a},e0b1:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"musicPlayBody",staticClass:"body"},[n("div",{staticClass:"content"},[n("aside-left"),n("aside-right"),n("center")],1)])},i=[],a=(n("c975"),n("fb6a"),n("5530")),c=n("2f62"),r=n("bb62"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside-left"},[n("h3",[t._v("搜索列表")]),n("ul",{staticClass:"aside-list"},t._l(t.searchlist,(function(e,s){return n("li",{key:e.id||s,class:{active:t.isClick===e.id},on:{click:function(n){return t.changeClick(e.id)},dblclick:function(n){return t.playSong(e)}}},[n("i",{staticClass:"iconfont iconbofang aside-playico"}),n("span",{staticClass:"song-name"},[t._v(t._s(e.name))]),e.mvid?n("i",{staticClass:"iconfont icon-mv mv-play",on:{click:function(n){return t.mvPlayer(e.mvid)}}}):t._e(),n("i",{staticClass:"iconfont icontianjia add-song",on:{click:function(n){return t.addSong(e)}}})])})),0)])},l=[],u=(n("c740"),n("b0c0"),{name:"asideLeft",data:function(){return{isClick:0}},computed:Object(a["a"])({},Object(c["c"])(["playlist","searchlist","currentUrl","currentIndex","currentSong","currentSongComments","songImg","playState"])),methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(c["b"])(["getSearchlist","getSongUrl","getSongComments","getSongImg","getMv"])),Object(c["d"])(["pushPlaylist","setCurrentIndex","setPlayState","setEnterMv"])),{},{changeClick:function(t){console.log(t),this.isClick=t},isStored:function(t){var e=this.playlist.findIndex((function(e){return e.id===t}));return e},SongUrlHandle:function(t){var e=this.isStored(t.id);-1===e?(this.pushSong(t),console.log(this.playlist[this.playlist.length-1]),this.setCurrentIndex(this.playlist.length-1)):this.setCurrentIndex(e)},pushSong:function(t){this.pushPlaylist({image:t.artists[0].img1v1Url,album:t.album.name,song:t.name,id:t.id,singer:t.artists[0].name,audio:this.currentUrl||" ",duration:t.duration/1e3}),localStorage.setItem("playlist",JSON.stringify(this.playlist))},playSong:function(t){var e=this;this.getSongComments(t.id),this.getSongImg(t.id),this.getSongUrl(t.id).then((function(n){e.SongUrlHandle(t),e.currentUrl?e.setPlayState(!0):e.setPlayState(!1),console.log(e.playlist,"加上"),console.log(e.currentIndex)}))},addSong:function(t){var e=this.isStored(t.id);-1===e&&this.pushSong(t)},mvPlayer:function(t){console.log(this),this.$router.push("/mv"),this.getMv(t)}})}),g=u,m=(n("c0d2"),n("2877")),d=Object(m["a"])(g,o,l,!1,null,null,null),S=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside-right"},[n("h3",[t._v("热门留言")]),n("ul",{staticClass:"comment-list"},t._l(t.currentSongComments,(function(e){return n("li",{key:e.commentId},[n("div",{staticClass:"avatar"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.user.avatarUrl,expression:"item.user.avatarUrl"}],attrs:{alt:""}})]),n("div",{staticClass:"words"},[n("div",{staticClass:"user-name"},[t._v(t._s(e.user.nickname))]),n("p",[t._v(t._s(e.content))])])])})),0)])},h=[],v={name:"asideRight",data:function(){return{}},computed:Object(a["a"])({},Object(c["c"])(["currentSongComments"]))},p=v,b=(n("25ce"),Object(m["a"])(p,f,h,!1,null,null,null)),y=b.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center"},[n("div",{staticClass:"player-bar",class:{active:t.playState}}),n("div",{staticClass:"music-player",class:{active:t.playState}},[n("div",{staticClass:"disc-poster"},[n("img",{attrs:{src:t.songImg,alt:""}})])]),n("div",{staticClass:"song-name"},[t._v(t._s(t.currentSong.song||""))]),n("div",{staticClass:"singer"},[t._v(t._s(t.currentSong.singer))])])},I=[],O={name:"center",computed:Object(a["a"])({},Object(c["c"])(["playState","currentSong","songImg"])),created:function(){},watch:{songImg:function(t){Object(r["a"])([t])}},filters:{songName:function(t){console.log(t);var e=t.indexOf("("),n=t.slice(0,e);return console.log(e,n,"524"),n}}},j=O,_=(n("d210"),Object(m["a"])(j,C,I,!1,null,null,null)),x=_.exports,k={components:{asideLeft:S,asideRight:y,center:x},created:function(){var t=this,e=localStorage.getItem("searchlist");e&&this.setSearchlist(JSON.parse(e)),this.getSearchlist("小半").then((function(e){t.getSongComments(t.searchlist[0].id),t.getSongImg(t.searchlist[0].id)}))},mounted:function(){this.init()},beforeDestroy:function(){console.log("dd"),this.setPlayState(!1)},computed:Object(a["a"])({},Object(c["c"])(["playlist","searchlist","currentUrl","currentIndex","currentSong","currentSongComments","songImg","playState"])),watch:{searchlist:function(t){localStorage.setItem("searchlist",JSON.stringify(t))},songImg:function(t){localStorage.setItem("songImg",JSON.stringify(t))},currentIndex:function(t){localStorage.setItem("currentIndex",JSON.stringify(t))},currentSongComments:function(t){localStorage.setItem("comments",JSON.stringify(t))},currentSong:function(t){localStorage.setItem("currentSong",JSON.stringify(t))}},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(c["b"])(["getSearchlist","getSongUrl","getSongComments","getSongImg","getMv"])),Object(c["d"])(["setSearchlist","setCurrentSongComments","setPlayState","setSongImg","setCurrentIndex","setCurrentSong"])),{},{init:function(){var t=localStorage.getItem("searchlist"),e=localStorage.getItem("songImg"),n=localStorage.getItem("currentIndex"),s=localStorage.getItem("comments"),i=localStorage.getItem("currentSong");t&&this.setSearchlist(JSON.parse(t)),e&&this.setSongImg(JSON.parse(e)),n&&this.setCurrentIndex(JSON.parse(n)),s&&this.setCurrentSongComments(JSON.parse(s)),i&&this.setCurrentSong(JSON.parse(i))}}),filters:{songName:function(t){console.log(t);var e=t.indexOf("("),n=t.slice(0,e);return console.log(e,n,"524"),n}}},N=k,J=(n("8e0c"),Object(m["a"])(N,s,i,!1,null,"72e1bf0b",null));e["default"]=J.exports}}]);
//# sourceMappingURL=chunk-d278acbe.084895f0.js.map